schema: '2.0'
stages:
  sales_db_export:
    cmd: .venv/bin/python src/cleaning_json.py
    deps:
    - path: assets/json_documents
      md5: 38044a25813c5683ad04e8794c17b173.dir
      size: 163807516
      nfiles: 4165
    - path: src/cleaning_json.py
      md5: e252bc61f105f2648cab84fc759fe3c5
      size: 167
    outs:
    - path: assets/json_documents_clean
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  clean_documents:
    cmd: .venv/bin/python src/cleaning_json.py
    deps:
    - path: assets/json_documents
      md5: 38044a25813c5683ad04e8794c17b173.dir
      size: 163807516
      nfiles: 4165
    - path: src/cleaning_json.py
      md5: e31afe8a5f4acd5e51bb621cbbbd1882
      size: 2546
    outs:
    - path: assets/cleaned_dataset
      md5: 91d885ae6a5e3ddcfbd694008d857951.dir
      size: 1010713
      nfiles: 1
  split_dataset:
    cmd: .venv/bin/python src/split_dataset.py
    deps:
    - path: assets/cleaned_dataset
      md5: 91d885ae6a5e3ddcfbd694008d857951.dir
      size: 1010713
      nfiles: 1
    - path: src/split_dataset.py
      md5: bbd280f5f3051245523ab6819efc526a
      size: 892
    outs:
    - path: assets/splitted_dataset
      md5: e4909dfb2f249b40d64d68154c84f393.dir
      size: 1186788
      nfiles: 4
  encode_dataset:
    cmd: .venv/bin/python src/encode_dataset.py
    deps:
    - path: assets/splitted_dataset
      md5: e4909dfb2f249b40d64d68154c84f393.dir
      size: 1186788
      nfiles: 4
    - path: src/encode_dataset.py
      md5: 3547e1c2bc96e375eb5a7f3601218203
      size: 1898
    outs:
    - path: assets/encoded_dataset
      md5: 9182a593cb3e84b367bf79673b1e6883.dir
      size: 813328913
      nfiles: 5
  train:
    cmd: .venv/bin/python src/train.py
    deps:
    - path: assets/encoded_dataset
      md5: 9182a593cb3e84b367bf79673b1e6883.dir
      size: 813328913
      nfiles: 5
    - path: src/train.py
      md5: 6d05128a7b520e9d709aeb43d04962bd
      size: 932
    outs:
    - path: assets/models
      md5: a8bec14e04275bd58bb5c77ce4750ede.dir
      size: 1760166
      nfiles: 1
